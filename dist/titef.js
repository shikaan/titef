!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports={executeCallback:async e=>{if("AsyncFunction"===e[Symbol.toStringTag])try{await e()}catch(e){throw e}else e()},isNumber:e=>"[object Number]"===Object.prototype.toString.call(e),isFunction:e=>"[object Function]"===Object.prototype.toString.call(e),isObject:e=>"[object Object]"===Object.prototype.toString.call(e),log:class{static error(...e){console.log(TEXT_FORMAT.RED,"[ERROR]",...e,TEXT_FORMAT.RESET)}static info(...e){console.log("[INFO]",...e,TEXT_FORMAT.RESET)}}}},function(e,t,r){const{suite:o}=r(2),{spec:c,xspec:n}=r(4);e.exports={suite:o,spec:c,xspec:n}},function(e,t,r){const{executeCallback:o}=r(0),{TEXT_FORMAT:c,print:n,log:s,isFunction:i,isObject:a}=r(0),{ERROR:u}=r(3);e.exports={suite:async(e,...t)=>{const r={title:String(e),setup:()=>{},teardown:()=>{}},{options:c,callback:n}=((e,t)=>{const r=e[0],o=e[1];switch(e.length){case 1:if(!i(r))throw s.error("Second argument must be a function!"),new TypeError(u.INVALID_ARGUMENT);return{options:t,callback:r};case 2:if(!a(r))throw s.error("Second argument must be an object!"),new TypeError(u.INVALID_ARGUMENT);if(!i(o))throw s.error("Third argument must be a function!"),new TypeError(u.INVALID_ARGUMENT);return{options:Object.assign({},t,r),callback:o};default:throw s.error("Invalid arguments! Expected (title: string, options?: object, callback: function), Actual",e),new TypeError(u.INVALID_ARGUMENT)}})(t,r);if(!i(c.setup))throw s.error("Setup must be a function!"),new TypeError(u.INVALID_ARGUMENT);if(c.setup(),o(n),!i(c.teardown))throw s.error("Teardown must be a function!"),new TypeError(u.INVALID_ARGUMENT);c.teardown()}}},function(e,t){const r=new Map,o={setTimeout:setTimeout,setInterval:setInterval,clearTimeout:clearTimeout,clearInterval:clearInterval};e.exports={ERROR:{INVALID_ARGUMENT:"ERR_INVALID_ARGUMENT",INTERVAL:"ERR_CLEAR_INTERVAL",TIMEOUT:"ERR_CLEAR_TIMEOUT"},rejectMap:r,oldies:o}},function(e,t,r){const{executeCallback:o}=r(0),{saveRecord:c,updateRecord:n,printRecords:s,RESULT:i}=r(5);e.exports={spec:async(e,t)=>{c(e,"test");try{await o(t),n(e,"test",i.SUCCESS)}catch(t){n(e,"test",i.FAILURE,t)}s()},xspec:async e=>{c(e,"test"),n(e,"test",i.IGNORED)}}},function(e,t,r){const{printRecords:o}=r(6),{updateRecord:c,saveRecord:n}=r(8);e.exports={saveRecord:n,updateRecord:c,printRecords:o}},function(e,t,r){const{isFunction:o}=r(0),{records:c,RESULT:n,TEXT_FORMAT:s}=r(7),i=(...e)=>process.stdout.print(...e,s.RESET),a=e=>o(e)?e.name:String(e);e.exports={printRecords:()=>{Object.keys(c).forEach(e=>{i(s.BOLD,`SUITE: ${e}`),Object.values(c[e]).forEach(e=>{if(e.result===n.SUCCESS)i(s.GREEN,`[ âœ” ] ${e.title}`);else if(e.result===n.IGNORED)i(s.YELLOW,`[ - ] ${e.title}`);else if(e.result===n.PENDING)i(s.YELLOW,`[...] ${e.title}`);else{const{payload:t}=e,r=t.message||t.toString().split(":").slice(-1)[0];if("ERR_ASSERTION"===t.code||/^AssertionError/.test(t.toString())){const e=a(t.operator),o=a(t.expected),c=a(t.actual);i(`ASSERTION ERROR:${r}`),("fail"===e||!e&&t.expected&&t.actual)&&(i(`  Expected: ${o}`),i(`  Actual:   ${c}`))}else i(`UNHANDLED ERROR: ${r}`),i(t)}})})}}},function(e,t){const r={PENDING:"PENDING",SUCCESS:"SUCCESS",FAILURE:"FAILURE",IGNORED:"IGNORED"},o=Object.values(r);e.exports={records:{},RESULT:r,RESULTS:o,TEXT_FORMAT:{RED:"[31m",GREEN:"[32m",YELLOW:"[33m",RESET:"[0m",BOLD:"[1m"}}},function(e,t){e.exports={saveRecord:(e,t)=>{e&&t&&(records[t]||(records[t]={}),records[t][e]={title:e,specification:t,result:RESULT.PENDING,payload:null})},updateRecord:(e,t,r,o)=>{if(!RESULTS.includes(r))throw new TypeError(`Result should be one of ${RESULTS.join()}. Got ${r}.`);records[t][e]=Object.assign({},records[t],{result:r,payload:o})}}}]));